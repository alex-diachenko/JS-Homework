<html>
  <head>
    <title>JAVASCRIPT</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <script>
      // ЗАДАНИЯ ДЛЯ РАЗМИНКИ!!!!!!)))

      //1) Задача состоит в следующем! Делаем GET запрос https://playwithpromise.herokuapp.com/api/order-system получаем даные в виде массива
      // Создаем разметку с помощью createElement и выводим список продуктов, а именно поля productImage, productName, description!(productImage - ссылка на картинку)

      getProducts();

      async function getProducts() {
        let response = await fetch(
          "https://playwithpromise.herokuapp.com/api/order-system",
          {
            method: "GET",
            headers: {
              "Content-Type": "application/json; charset=utf-8"
            },
            body: JSON.stringify()
          }
        );
        let result = await response.json();

        let container = document.createElement("div");
        container.className = "container";
        document.body.append(container);

        result.forEach(element => {
          newDiv("div", "item", container, element.productName);
          newDiv("div", "item", container, element.productDescription);
          newDiv("div", "item", container, `<img src="${element.productImage}" style="width: 150px; height: auto;"></img>`
          );
        });
      }

      function newDiv(docElement, className, addTo, innerHTML) {
        let elem = document.createElement(docElement);
        elem.className = className;
        elem.innerHTML = innerHTML;
        addTo.append(elem);
        return elem;
      }
    </script>
  </body>
</html>

